<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>XOYZ: ASSEMBLY RUN</title>
  <style>
    :root {
      --bg: #1a1a1a; --text: #e0e0e0; --accent: #ff3e00;
      --card-bg: #333; --border: #555;
    }
    body { background: var(--bg); color: var(--text); font-family: 'IBM Plex Mono', monospace; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }

    /* THE GAME BOARD */
    .game-board { width: 400px; display: flex; flex-direction: column; gap: 20px; }

    /* HUD */
    .hud { display: flex; justify-content: space-between; border-bottom: 2px solid var(--accent); padding-bottom: 10px; }
    .stat { font-weight: 900; font-size: 0.8rem; }

    /* THE OBJECTIVE */
    .objective-screen {
      background: #000; border: 1px solid var(--border); padding: 15px; font-size: 0.8rem; color: var(--accent);
      text-shadow: 0 0 5px var(--accent); min-height: 40px; display: flex; align-items: center; justify-content: center; text-align: center;
    }

    /* THE GRID (Target) */
    .grid-display { display: grid; grid-template-columns: repeat(8, 1fr); gap: 5px; }
    .slot {
      aspect-ratio: 1/1; border: 1px solid var(--border); border-radius: 4px;
      display: flex; align-items: center; justify-content: center; font-weight: bold;
      transition: 0.2s;
    }
    .slot.filled-X { background: var(--accent); color: #000; }
    .slot.filled-Y { background: #666; color: #fff; }

    /* THE HAND (Cards) */
    .hand { display: flex; gap: 10px; height: 100px; }
    .card {
      flex: 1; background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      cursor: pointer; transition: 0.2s; padding: 10px; text-align: center;
    }
    .card:hover { transform: translateY(-5px); border-color: var(--accent); }
    .card-title { font-size: 0.6rem; font-weight: bold; margin-bottom: 5px; }
    .card-cost { font-size: 0.6rem; color: var(--accent); }

    /* ACTION BTN */
    .run-btn {
      padding: 15px; background: var(--text); color: var(--bg); border: none;
      font-weight: 900; cursor: pointer; letter-spacing: 2px;
    }
  </style>
</head>
<body>

<div class="game-board">
  <div class="hud">
    <div class="stat">CYCLE: 1/5</div>
    <div class="stat">MEMORY: <span id="memory-val">100</span>%</div>
  </div>

  <div class="objective-screen" id="mission-text">
    MISSION: CONSTRUCT "HOUSE KICK" SEQUENCE
  </div>

  <div class="grid-display" id="assembly-line">
  </div>

  <div class="hand">
    <div class="card" onclick="playCard('4floor')">
      <div class="card-title">4-FLOOR</div>
      <div class="card-cost">COST: 20</div>
    </div>
    <div class="card" onclick="playCard('backbeat')">
      <div class="card-title">BACKBEAT</div>
      <div class="card-cost">COST: 15</div>
    </div>
    <div class="card" onclick="playCard('clear')">
      <div class="card-title">PURGE</div>
      <div class="card-cost">COST: 5</div>
    </div>
  </div>

  <button class="run-btn" onclick="submitBatch()">SUBMIT BATCH</button>
</div>

<script>
  // GAME STATE
  let grid = Array(8).fill('O'); // 8 steps for simplicity in prototype
  let memory = 100;

  // INIT
  const line = document.getElementById('assembly-line');
  function renderGrid() {
    line.innerHTML = '';
    grid.forEach(val => {
      const d = document.createElement('div');
      d.className = `slot ${val !== 'O' ? 'filled-'+val : ''}`;
      d.innerText = val === 'O' ? '.' : val;
      line.appendChild(d);
    });
    document.getElementById('memory-val').innerText = memory;
  }

  // CARD LOGIC
  function playCard(type) {
    if(memory <= 0) return alert("MEMORY DEPLETED");

    if (type === '4floor') {
      // Places Kicks on 1 and 5 (in 8 step grid)
      grid[0] = 'X'; grid[4] = 'X';
      memory -= 20;
    }
    else if (type === 'backbeat') {
      // Places Snares on 3 and 7
      grid[2] = 'Y'; grid[6] = 'Y';
      memory -= 15;
    }
    else if (type === 'clear') {
      grid.fill('O');
      memory -= 5;
    }

    renderGrid();
  }

  function submitBatch() {
    // Simple win check for "House Kick" (Needs X on 1 and 5)
    if(grid[0] === 'X' && grid[4] === 'X') {
      document.getElementById('mission-text').innerText = "BATCH ACCEPTED. UPLOADING...";
      document.getElementById('mission-text').style.color = "#39ff14"; // Green
    } else {
      document.getElementById('mission-text').innerText = "ERROR: PATTERN MISMATCH";
      document.getElementById('mission-text').style.color = "red";
    }
  }

  renderGrid();
</script>
</body>
</html>